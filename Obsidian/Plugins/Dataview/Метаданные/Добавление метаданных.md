---
title: Добавление метаданных в Dataview
description: Руководство по добавлению и использованию метаданных в заметках для Dataview
tags:
  - dataview
  - metadata
  - frontmatter
  - documentation
  - yaml
keywords:
  - метаданные
  - yaml frontmatter
  - inline fields
  - dataview
  - obsidian
created: 2024-11-30
updated: 2024-12-15
category: Obsidian/Plugins/Dataview/Metadata
source: https://blacksmithgu.github.io/obsidian-dataview/annotation/add-metadata/
author: blacksmithgu
language: ru
черновик: false
статус: ✅ Готово
архив: false
---

# Добавление метаданных

## Основное содержание

```table-of-contents
```

## Добавление метаданных на Страницы

Dataview не может запрашивать все содержимое хранилища. Чтобы иметь возможность поиска, фильтрации и отображения контента, этот контент должен быть **проиндексирован**. Некоторый контент индексируется автоматически, например, маркированные пункты или списки задач - так называемые **неявные поля**, подробнее об этом ниже, - а другие данные должны быть сохранены в **поле** метаданных, чтобы быть доступными через dataview.

## Что такое «поле»?

Поле метаданных — это пара **ключа** и **значения**. *Значение* поля имеет тип данных (подробнее об этом [здесь](https://blacksmithgu.github.io/obsidian-dataview/annotation/types-of-metadata/)), который определяет, как это поле будет вести себя при запросе.

Вы можете добавить любое количество полей в **заметку**, **элемент списка** или **задачу**.

## Как добавить поля?

Добавить поля в **заметку** можно тремя различными способами. То, как выглядит поле, зависит от способа его добавления.

Для **задач или элементов списка** у вас будет доступна информация YAML Frontmatter, но вы не сможете добавить ее в определенный элемент списка. Если вы хотите добавить метаданные только к одному элементу списка или задаче, используйте [встроенные поля](https://blacksmithgu.github.io/obsidian-dataview/annotation/add-metadata/#inline-fields).

### Фронтматерик

Frontmatter — это распространенное расширение Markdown, которое позволяет добавлять метаданные YAML в верхнюю часть страницы. Он изначально поддерживается Obsidian и описан в [официальной документации](https://help.obsidian.md/Advanced+topics/YAML+front+matter). Все поля YAML Frontmatter будут автоматически доступны как поля Dataview.

```
    ---
    alias: "document"
    last-reviewed: 2021-08-17
    thoughts:
      rating: 8
      reviewable: false
    ---
```

При этом у вашей заметки есть поля метаданных с именами `alias`, `last-reviewed` и `thoughts`. Каждый из них имеет разные **типы данных**:

- `alias` — это [текст](https://blacksmithgu.github.io/obsidian-dataview/annotation/types-of-metadata/#text), потому что он обернут в «»
- `last-reviewed` — это [дата](https://blacksmithgu.github.io/obsidian-dataview/annotation/types-of-metadata/#date), потому что она соответствует формату даты ISO
- `thoughts` является [полем объекта](https://blacksmithgu.github.io/obsidian-dataview/annotation/types-of-metadata/#object), так как в нем используется синтаксис объекта YAML Frontmatter

Вы можете запросить эту заметку с помощью следующего запроса:

```
\`\`\`dataview
LIST
WHERE thoughts.rating = 8
\`\`\`
```

### Встроенные поля

Для тех, кто хочет более естественно выглядящую аннотацию, Dataview поддерживает «встроенные» поля с помощью синтаксиса `Key:: Value`, который вы можете использовать везде в вашем файле. Это позволяет вам записывать запрашиваемые данные прямо там, где они вам нужны, например, в середине предложения.

Если у вашего встроенного поля есть собственная строка, без предварительного содержимого, вы можете написать ее следующим образом:

```
# Markdown Page

Basic Field:: Some random Value
**Bold Field**:: Nice!
```

Все содержимое после `::` является значением поля до следующего переноса строки.

Помните о `::`

Обратите внимание, что при использовании встроенных полей необходимо использовать двойное двоеточие `::` ключом и значением, в отличие от полей YAML Frontmatter, где достаточно одного двоеточия.

Если вы хотите встроить метаданные в предложения или несколько полей в одной строке, вы можете использовать синтаксис квадратных скобок и заключить поле в квадратные скобки:

```
I would rate this a [rating:: 9]! It was [mood:: acceptable].
```

Поля в элементах списка и задачах

Когда вы хотите аннотировать элемент списка, например, задачу, с метаданными, вам всегда нужно использовать синтаксис квадратных скобок (потому что поле не является единственной информацией в этой строке)

```
- [ ] Send an mail to David about the deadline [due:: 2022-04-05].
```

Встроенные поля в квадратных скобках — единственный способ явного добавления полей к определенным элементам списка, YAML frontmatter всегда применяется ко всей странице (но также доступен в контексте элементов списка).

Существует также альтернативный синтаксис скобок, который скрывает ключ при рендеринге в режиме Reader:

```
This will not show the (longKeyIDontNeedWhenReading:: key).
```

будет предоставлен для:

```
This will not show the key.
```

Вы можете использовать поля YAML Frontmatter и Inline со всеми вариантами синтаксиса вместе в одном файле. Вам не нужно выбирать что-то одно, и вы можете смешивать их в соответствии с вашим рабочим процессом.

## Названия полей

Представьте, что вы использовали все примеры для Inline-полей, которые вы видите выше, в одной заметке, тогда вам будут доступны следующие метаданные:

Как видно из таблицы, если вы используете **пробелы или заглавные буквы** в имени ключа метаданных, dataview предоставит вам **очищенную версию** ключа.

**Ключи с пробелами** нельзя использовать в запросе как есть. Здесь у вас есть две возможности: либо использовать очищенное имя, которое всегда в нижнем регистре и с тире вместо пробелов, либо использовать синтаксис **переменной row**. Узнайте больше [в разделе часто задаваемых вопросов](https://blacksmithgu.github.io/obsidian-dataview/resources/faq/).

**Клавиши с заглавными буквами** можно использовать как есть, если вы того пожелаете. Очищенная версия позволяет запрашивать ключ независимо от его заглавных букв и упрощает его использование: вы можете запрашивать одно и то же поле, которое, например, есть в одном файле с именем `someMetadata` и в другом `someMetaData` при использовании очищенного ключа `somemetadata`.

Кроме того, **в ключе поля, выделенном полужирным шрифтом, отсутствуют маркеры форматирования**. Несмотря на то, что `**` используемые для выделения жирным шрифтом, являются частью имени ключа в файле, они не указываются при индексировании заметки. То же самое относится и ко всем другим встроенным форматам, таким как зачеркивание или курсив. Это означает, что отформатированные ключи могут быть запрошены только без их форматирования. Это позволяет форматировать ключ в контексте заметки, не беспокоясь о том, что вы можете создать разные ключи для одного и того же типа информации.

### Использование эмодзи и нелатинских символов

Вы не ограничены латинскими буквами при именовании полей метаданных. Вы можете использовать все символы, доступные в UTF-8:

```
Noël:: Un jeu de console
クリスマス:: 家庭用ゲーム機
[:: a console game]
[xmas:: a console game]
```

**Использование эмодзи в качестве ключей метаданных** возможно, но имеет некоторые ограничения. При использовании эмодзи в названиях полей нужно заключать их в квадратные скобки, чтобы dataview правильно их распознавал. Кроме того, имейте в виду, что при смене ОС (т.е. с Windows на Android) тот же эмодзи может использовать другой код символа, и вы можете не найти свои метаданные при запросе.

Сокращения полей задач

Исключением из этого правила является [сокращенный синтаксис](https://blacksmithgu.github.io/obsidian-dataview/annotation/metadata-tasks/#field-shorthands) в задачах. Вы можете использовать сокращения, не связанные с брекетингом. Обратите внимание, что это относится только к перечисленным сокращениям - все остальные поля (будь то с эмодзи или нет) должны использовать синтаксис `[key:: value]`.

## Неявные поля

Даже если вы не добавляете метаданные в заметку явно, dataview предоставляет вам большое количество индексированных данных из коробки. Вот некоторые примеры неявных полей:

- день создания файла (`file.cday`)
- ссылки в файле (`file.outlinks`)
- в файле (`file.etags`)
- все элементы списка в файле (`file.lists` и `file.tasks`)

и многое другое. Доступные неявные поля различаются в зависимости от того, просматриваете ли вы страницу или элемент списка. Полный список доступных неявных полей можно найти в [разделах Метаданные на страницах](https://blacksmithgu.github.io/obsidian-dataview/annotation/metadata-pages/) и [Метаданные в задачах и списках](https://blacksmithgu.github.io/obsidian-dataview/annotation/metadata-tasks/).

Мы перевели эту страницу на Русский

Включить Английский обратно

Всегда переводить Английский на Русский  
Никогда не переводить Английский  
Никогда не переводить blacksmithgu.github.io