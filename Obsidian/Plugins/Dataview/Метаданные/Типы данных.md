---
title: "Типы данных"
source: "https://blacksmithgu.github.io/obsidian-dataview/annotation/types-of-metadata/"
author:
published:
created: 2024-11-30
description:
tags:
  - "dataview"
  - "types"
---
## Типы полей

Все поля в dataview имеют **тип**, который определяет, как dataview будет отображаться, сортироваться и работать с этим полем. Подробнее о том, как создавать поля, читайте в [разделе "Добавление метаданных"](https://blacksmithgu.github.io/obsidian-dataview/annotation/add-metadata/) и какая информация у вас автоматически доступна в [метаданных на страницах](https://blacksmithgu.github.io/obsidian-dataview/annotation/metadata-pages/) и [метаданных в задачах и списках](https://blacksmithgu.github.io/obsidian-dataview/annotation/metadata-tasks/).

## Почему тип имеет значение?

Dataview предоставляет [функции](https://blacksmithgu.github.io/obsidian-dataview/reference/functions/), которые можно использовать для изменения метаданных, и позволяет писать все виды сложных запросов. Для корректной работы определенных функций требуются определенные типы данных. Это означает, что тип данных вашего поля определяет, какие функции вы можете использовать с этими полями и как они ведут себя. Кроме того, в зависимости от типа, рендеры выходного представления данных могут быть разными.

В большинстве случаев вам не нужно слишком беспокоиться о типе ваших полей, но если вы хотите выполнять вычисления и другие волшебные операции со своими данными, вы должны знать о них.

Различный рендеринг в зависимости от типа

Если у вас есть этот файл:

```
date1:: 2021-02-26T15:15
date2:: 2021-04-17 18:00

\`\`\`dataview
TABLE date1, date2
WHERE file = this.file
\`\`\`
```

Вы увидите следующие выходные данные (в зависимости от настроек формата даты + времени для представления данных):

`date1` распознается как **дата**, в то время как `date2` является обычным **текстом** для просмотра данных, поэтому `date1` анализируется для вас по-разному. Узнайте больше о [датах ниже](https://blacksmithgu.github.io/obsidian-dataview/annotation/types-of-metadata/#date).

## Доступные типы полей

Dataview знает несколько типов полей, чтобы охватить распространенные случаи использования.

### СМС

Универсальный вариант по умолчанию. Если поле не соответствует более конкретному типу, это обычный текст.

```
Example:: This is some normal text.
```

Многострочный текст

Многострочный текст в качестве значения возможен только через YAML Frontmatter и оператор вертикальной черты:

```
---
poem: |
  Because I could not stop for Death,
  He kindly stopped for me;
  The carriage held but just ourselves
  And Immortality.
author: "[[Emily Dickinson]]"
title: "Because I could not stop for Death"
---
```

Для встроенных полей перенос строки означает окончание значения.

### Число

Такие цифры, как «6» и «3.6».

```
Example:: 6
Example:: 2.4
Example:: -80
```

В YAML Frontmatter вы записываете число без окружающих кавычек:

```
---
rating: 8
description: "A nice little horror movie"
---
```

### Булев

Булево значение имеет только два значения: истинное или ложное, как концепцию программирования.

```
Example:: true
Example:: false
```

### Дата

Текст, соответствующий ISO8601 обозначению, будет автоматически преобразован в объект даты. [ISO8601](https://en.wikipedia.org/wiki/ISO_8601) имеет формат `YYYY-MM[-DDTHH:mm:ss.nnn+ZZ]`. Все, что после месяца, необязательно.

```
Example:: 2021-04 
Example:: 2021-04-18
Example:: 2021-04-18T04:19:35.000
Example:: 2021-04-18T04:19:35.000+06:30
```

При запросе этих дат вы можете получить доступ к свойствам, которые возвращают вам определенную часть вашей даты:

- поле.год
- поле.месяц
- поле.неделягод
- field.week
- поле.день недели
- поле.день
- поле.час
- поле.минута
- поле.второе
- поле.миллисекунда

Например, если вас интересует, в каком месяце находится ваша дата, вы можете получить доступ к ней через `datefield.month`:

```
birthday:: 2001-06-11

\`\`\`dataview
LIST birthday
WHERE birthday.month = date(now).month
\`\`\`
```

возвращает вам все дни рождения, приходящиеся на этот месяц. Хотите узнать о `date(now)`? Подробнее об этом читайте в [разделе литералы](https://blacksmithgu.github.io/obsidian-dataview/reference/literals/#dates).

Отображение объектов даты

Dataview отображает объекты даты в удобочитаемом формате, т.е. `3:15 PM - February 26, 2021`. Вы можете настроить внешний вид этого формата в настройках Dataview в разделе «Общие» с помощью «Формат даты» и «Формат даты + времени». Если вы хотите настроить формат только в определенном запросе, используйте [функцию dateformat](https://blacksmithgu.github.io/obsidian-dataview/reference/functions/#dateformatdatedatetime-string).

### Длительность

Длительность — это текст формы `<time> <unit>`, например, `6 hours` или `4 minutes`. Принимаются общепринятые английские сокращения, такие как `6hrs` или `2m`. Вы можете указать несколько единиц измерения в одном поле, например, `6hr 4min`, опционально с разделителем запятыми: `6 hours, 4 minutes`

```
Example:: 7 hours
Example:: 16days
Example:: 4min
Example:: 6hr7min
Example:: 9 years, 8 months, 4 days, 16 hours, 2 minutes
Example:: 9 yrs 8 min
```

Полный список значений, которые распознаются как длительность в [литералах](https://blacksmithgu.github.io/obsidian-dataview/reference/literals/#durations).

Расчеты с датами и длительностями

Типы даты и длительности совместимы друг с другом. Это означает, что вы можете, например, добавить длительность к дате, чтобы получить новую дату:

```
departure:: 2022-10-07T15:15
length of travel:: 1 day, 3 hours

**Arrival**: \`= this.departure + this.length-of-travel\`
```

И вы получаете обратно длительность при расчете с датами:

```
release-date:: 2023-02-14T12:00

\`= this.release-date - date(now)\` until release!!
```

Хотите узнать о `date(now)`? Подробнее об этом читайте в [разделе литералы](https://blacksmithgu.github.io/obsidian-dataview/reference/literals/#dates).

### Связь

Обсидиановые ссылки, такие как `[[Page]]` или `[[Page|Page Display]]`.

```
Example:: [[A Page]]
Example:: [[Some Other Page|Render Text]]
```

Ссылки в YAML Frontmatter

Если вы ссылаетесь на ссылку в frontmatter, вам нужно заключить ее в кавычки, например: `key: "[[Link]]"` Это поведение по умолчанию, поддерживаемое Obsidian. Ссылки без кавычек приводят к неверному фронтмейтеру YAML, который больше не может быть проанализирован.

```
---
parent: "[[parentPage]]"
---
```

Пожалуйста, имейте в виду, что это ссылка только для dataview, но больше не для Obsidian - это означает, что она не будет отображаться в исходящих ссылках, не будет отображаться в виде графика и не будет обновляться, т.е. при переименовании.

### Список

Списки представляют собой поля с несколькими значениями. В YAML они определяются как обычные списки YAML:

```
---
key3: [one, two, three]
key4:
 - four
 - five
 - six
---
```

Во встроенных полях это значения списков, разделенные запятыми:

```
Example1:: 1, 2, 3
Example2:: "yes", "or", "no"
```

Обратите внимание, что во встроенных полях вам необходимо заключить **текстовые значения в кавычки**, чтобы они были распознаны как список (см. `Example2`). `yes, or, no` распознается как обычный текст.

Повторяющиеся ключи метаданных в одном и том же файле приводят к спискам

Если вы используете ключ метаданных дважды или более в одной заметке, dataview соберет все значения и выдаст вам список. Например

```
grocery:: flour
[...]
grocery:: soap

\`\`\`dataview
LIST grocery
WHERE file = this.file
\`\`\`
```

выдаст вам **список** `flour` и `soap` обратно.

Массивы представляют собой списки

В некоторых местах этой документации вы прочтете термин «массив». Массив - это термин для обозначения списков в Javascript - списки и массивы - это одно и то же. Функция, которой в качестве аргумента нужен массив, нуждается в списке в качестве аргумента.

### Объект

Объекты представляют собой карту нескольких полей под одним родительским полем. Они могут быть определены только в YAML frontmatter с использованием синтаксиса объекта YAML:

```
---
obj:
  key1: "Val"
  key2: 3
  key3: 
    - "List1"
    - "List2"
    - "List3"
---
```

В запросах вы можете получить доступ к этим дочерним значениям через `obj.key1` и т.д.:

```
\`\`\`dataview
TABLE obj.key1, obj.key2, obj.key3
WHERE file = this.file
\`\`\`
```

Мы перевели эту страницу на Русский

Включить Английский обратно

Всегда переводить Английский на Русский  
Никогда не переводить Английский  
Никогда не переводить blacksmithgu.github.io