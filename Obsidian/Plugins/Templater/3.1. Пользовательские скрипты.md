---
title: "Пользовательские скрипты"
source: "https://silentvoid13.github.io/Templater/user-functions/script-user-functions.html"
author:
published:
created: 2024-12-01
description:
tags:
  - "templater"
  - "user"
  - "function"
---
Пользовательские скрипты - Шаблонизатор           

## Шаблонизатор

## Пользовательские функции скрипта

Этот тип пользовательских функций позволяет вызывать функции JavaScript из файлов JavaScript и извлекать их выходные данные.

Для использования пользовательских функций скрипта необходимо указать папку скрипта в настройках Templater. Эта папка должна быть доступна из вашего хранилища.

## Определить функцию пользователя скрипта

Допустим, вы указали эту `Scripts`папку в качестве папки скрипта в настройках Templater.

Templater загрузит все `.js`скрипты JavaScript (файлы) в `Scripts`папке.

Затем вы можете создать свой скрипт с именем `Scripts/my_script.js`( `.js`расширение обязательно), например. Скорее всего, вам придется создать файл вне Obsidian, так как Obsidian создает только файлы markdown.

После этого вы сможете вызывать свои скрипты как пользовательские функции. Имя функции соответствует имени файла скрипта.

Скрипты должны соответствовать [спецификации модуля CommonJS](https://flaviocopes.com/commonjs/) и экспортировать одну функцию.

```javascript
function my_function (msg) {
    return \`Message from my script: ${msg}\`;
}
module.exports = my_function;
```

В этом примере полный вызов команды будет выглядеть так:

```javascript
<% tp.user.my_script("Hello World!") %>
```

Что выведет `Message from my script: Hello World!`.

## Глобальное пространство имен

В пользовательских функциях скрипта вы по-прежнему можете получить доступ к глобальным переменным пространства имен, таким как `app`или `moment`.

Однако вы не можете получить доступ к переменным области видимости шаблонизатора, таким как `tp`или `tR`. Если вы хотите их использовать, вы должны передать их в качестве аргументов для вашей функции.

## Функции Аргументы

Вы можете передать своей функции столько аргументов, сколько захотите, в зависимости от того, как вы ее определили.

Например, вы можете передать `tp`объект в свою функцию, чтобы иметь возможность использовать все [внутренние переменные/функции](https://silentvoid13.github.io/Templater/internal-variables-functions/overview.html) Templater:`<% tp.user.<user_function_name>(tp) %>`![](https://fonts.gstatic.com/s/i/productlogos/translate/v14/24px.svg)

Ваш отзыв поможет нам улучшить Google Переводчик

Язык этой страницы: Английский

Всегда переводить Английский на Русский  
Никогда не переводить Английский  
Никогда не переводить silentvoid13.github.io